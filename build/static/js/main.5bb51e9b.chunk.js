(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),l=n(23),s=n.n(l),o=(n(30),n(31),n(8)),r=n(2),i=n(6),j=n(56),d=n(57),b=n(10),u=n.n(b),m=n(0),O=Object(a.createContext)(),h=function(e){var t=e.children,n=Object(a.useState)(!1),c=Object(i.a)(n,2),l=c[0],s=c[1],o=Object(a.useState)([]),r=Object(i.a)(o,2),j=r[0],d=r[1],b=Object(a.useState)(!1),h=Object(i.a)(b,2),g=h[0],p=h[1],x=Object(a.useState)(!1),f=Object(i.a)(x,2),v=f[0],y=f[1],C=function(){u.a.get("/api/employees").then((function(e){console.log(e.data),d(e.data)}))};return Object(a.useEffect)((function(){C()}),[]),Object(a.useEffect)((function(){C(),p(!1)}),[g]),Object(a.useEffect)((function(){C(),y(!1),console.log("component rerenderd")}),[v]),Object(a.useEffect)((function(){C(),s(!1)}),[l]),Object(m.jsx)(O.Provider,{value:{newEmployee:l,setNewEmployee:s,employees:j,setEmployees:d,isDeleted:g,setIsDeleted:p,setIsUpdated:y},children:t})},g=function(){var e=Object(a.useContext)(O).setNewEmployee,t=Object(a.useState)({}),n=Object(i.a)(t,2),c=n[0],l=n[1],s=Object(a.useState)({}),b=Object(i.a)(s,2),h=b[0],g=b[1],p=function(e,t){l(Object(r.a)(Object(r.a)({},c),{},Object(o.a)({},e,t))),h[e]&&g(Object(r.a)(Object(r.a)({},h),{},Object(o.a)({},e,null)))};return Object(m.jsx)("div",{className:"form-container",children:Object(m.jsxs)(j.a,{onSubmit:function(t){t.preventDefault();var n=function(){var e=c.name,t=c.age,n=c.emailAddress,a=c.role,l={};return e&&""!==e?e.length>=30&&(l.name="Name is too long!"):l.name="Cannot be blank",t&&""!==t?(t<18||t>99)&&(l.age="Age requirements is 18 - 99"):l.age="Please fill out age",n&&""!==n?n.includes("@")&&n.includes(".com")||(l.emailAddress="Please enter a valid email address"):l.emailAddress="Cannot be blank",a&&""!==a?a.length>30&&(l.role="Role is too long!"):l.role="Please fill out employee role",l}();console.log(n),Object.keys(n).length>0?g(n):u.a.post("/api/employees",{name:c.name,age:c.age,address:c.emailAddress,role:c.role}).then((function(){console.log("employee successfully added"),t.target.reset(),l({name:"",age:"",emailAddress:"",role:""}),e(!0)})).catch((function(e){console.error(e)}))},children:[Object(m.jsxs)(j.a.Group,{className:"mb-3",children:[Object(m.jsx)(j.a.Control,{type:"text",placeholder:"Enter Employee Name",onChange:function(e){return p("name",e.target.value)},isInvalid:h.name}),Object(m.jsx)(j.a.Control.Feedback,{type:"invalid",children:h.name})]}),Object(m.jsxs)(j.a.Group,{className:"mb-3",children:[Object(m.jsx)(j.a.Control,{type:"number",placeholder:"Enter Employee Age",onChange:function(e){return p("age",e.target.value)},isInvalid:h.age}),Object(m.jsx)(j.a.Control.Feedback,{type:"invalid",children:h.age})]}),Object(m.jsxs)(j.a.Group,{className:"mb-3",children:[Object(m.jsx)(j.a.Control,{type:"email",placeholder:"Enter Employee Email",onChange:function(e){return p("emailAddress",e.target.value)},isInvalid:h.emailAddress}),Object(m.jsx)(j.a.Control.Feedback,{type:"invalid",children:h.emailAddress})]}),Object(m.jsxs)(j.a.Group,{className:"mb-3",children:[Object(m.jsx)(j.a.Control,{type:"text",placeholder:"Enter Employee Position",onChange:function(e){return p("role",e.target.value)},isInvalid:h.role}),Object(m.jsx)(j.a.Control.Feedback,{type:"invalid",children:h.role})]}),Object(m.jsx)(d.a,{variant:"primary",type:"submit",children:"Submit"})]})})},p=n(55),x=function(e){var t=e.index,n=e.id,c=e.eName,l=e.eAge,s=e.eEmail,o=e.eRole,j=Object(a.useContext)(O),d=j.setIsDeleted,b=j.setIsUpdated,h=Object(a.useState)(!1),g=Object(i.a)(h,2),p=g[0],x=g[1],f=Object(a.useState)(c),v=Object(i.a)(f,2),y=v[0],C=v[1],N=Object(a.useState)(l),E=Object(i.a)(N,2),A=E[0],k=E[1],S=Object(a.useState)(s),F=Object(i.a)(S,2),I=F[0],P=F[1],D=Object(a.useState)(o),w=Object(i.a)(D,2),R=w[0],G=w[1],q=Object(a.useState)({}),B=Object(i.a)(q,2),J=B[0],L=B[1];return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:t}),Object(m.jsx)("td",{children:p?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("input",{className:"edit-input",placeholder:y,value:y,onChange:function(e){J.name&&L(Object(r.a)(Object(r.a)({},J),{},{name:""})),C(e.target.value)}}),J.name&&Object(m.jsxs)("p",{className:"error-message",children:[" ",J.name," "]})]}):c}),Object(m.jsx)("td",{children:p?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("input",{className:"edit-input",placeholder:A,value:A,onChange:function(e){J.age&&L(Object(r.a)(Object(r.a)({},J),{},{age:""})),k(e.target.value)}}),J.age&&Object(m.jsxs)("p",{className:"error-message",children:[" ",J.age," "]})]}):l}),Object(m.jsx)("td",{children:p?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("input",{className:"edit-input",placeholder:I,value:I,onChange:function(e){J.email&&L(Object(r.a)(Object(r.a)({},J),{},{email:""})),P(e.target.value)}}),J.email&&Object(m.jsx)("p",{className:"error-message",children:J.email})]}):s}),Object(m.jsx)("td",{children:p?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("input",{className:"edit-input",placeholder:R,value:R,onChange:function(e){J.role&&L(Object(r.a)(Object(r.a)({},J),{},{role:""})),G(e.target.value)}}),J.role&&Object(m.jsxs)("p",{className:"error-message",children:[" ",J.role," "]})]}):o}),Object(m.jsx)("td",{children:p?Object(m.jsx)("button",{onClick:function(){var e=function(){var e={};return y&&""!==y?y.length>=30&&(e.name="Name is too long!"):e.name="Cannot be blank",A&&""!==A?(A<18||A>99)&&(e.age="Age requirements is 18 - 99"):e.age="Please fill out age",I&&""!==I?I.includes("@")&&I.includes(".com")||(e.email="Please enter a valid email address"):e.email="Cannot be blank",R&&""!==R?R.length>30&&(e.role="Role is too long!"):e.role="Please fill out employee role",e}();console.log(e),Object.keys(e).length>0?L(e):(x(!1),u.a.put("/api/employees/".concat(n),{name:y,age:A,address:I,role:R}).then((function(){console.log("success"),b(!0)})).catch((function(e){return console.log(e)})))},className:"my-btn",children:"\u2714\ufe0f"}):Object(m.jsx)("button",{onClick:function(){console.log(n),x(!0)},className:"my-btn",children:"\u270f\ufe0f"})}),Object(m.jsx)("td",{children:Object(m.jsx)("button",{onClick:function(){console.log(n),u.a.delete("/api/employees/".concat(n)).then((function(){console.log("success"),d(!0)})).catch((function(e){return console.log(e)}))},className:"my-btn",children:"\u274c"})})]})},f=function(){var e=Object(a.useContext)(O).employees;return Object(m.jsx)("div",{className:"table-container",children:Object(m.jsxs)(p.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",responsive:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:" # "}),Object(m.jsx)("th",{children:" Name"}),Object(m.jsx)("th",{children:" Age"}),Object(m.jsx)("th",{children:" Email"}),Object(m.jsx)("th",{children:" Role "}),Object(m.jsx)("th",{children:" Edit "}),Object(m.jsx)("th",{children:" Delete "})]})}),Object(m.jsx)("tbody",{children:e.map((function(e,t){var n=t+1;return Object(m.jsx)(x,{index:n,id:e._id,eName:e.name,eAge:e.age,eEmail:e.address,eRole:e.role},e._id)}))})]})})},v=function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("h1",{className:"title",children:"Add Employee"}),Object(m.jsx)(g,{}),Object(m.jsx)("h1",{className:"title",children:"All Employees"}),Object(m.jsx)(f,{})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,l=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),l(e),s(e)}))};s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(h,{children:Object(m.jsx)(v,{})})}),document.getElementById("root")),y()}},[[54,1,2]]]);
//# sourceMappingURL=main.5bb51e9b.chunk.js.map